# Documentation: https://i3wm.org/docs/userguide.html

###############
## Variables ##
###############

set $mod Mod4
set $terminal kitty
set $browser firefox-developer-edition

set $bg 				 #22232E
set $bg-urgent   #F26D61
set $bg-darker   #222222

set $outline 		 #4D4D4D
set $active		   #C5A1D1

set $text  			 #CCCCCC
set $text-urgent #F05654

set $refresh_i3status killall -SIGUSR1 i3status

# Interface font
font pango:monospace 12

# Key to move floating windows
floating_modifier $mod

#################
## Start tasks ##
#################

exec --no-startup-id dex --autostart --environment i3
exec --no-startup-id xss-lock --transfer-sleep-lock -- i3lock --nofork
exec --no-startup-id nm-applet

exec $terminal
exec --no-startup-id compton
exec feh --bg-scale ~/Pictures/wallpaper.png
exec --no-startup-id flameshot

###############
## Shortcuts ##
###############

bindsym $mod+Return exec $terminal
bindsym $mod+b exec $browser

bindsym $mod+d exec "rofi -show drun"
bindsym $mod+Shift+w exec "rofi -show window"
bindsym $mod+period exec "rofi -show emoji -modi emoji"

bindsym $mod+Shift+q kill
bindsym $mod+Shift+c reload
bindsym $mod+Shift+r restart
bindsym $mod+r mode "resize"
bindsym $mod+Shift+e exec "i3-nagbar -t warning -m 'Confirm action: exit i3' -B 'Exit' 'i3-msg exit'"

# See https://unix.stackexchange.com/questions/439486/how-can-i-make-media-keys-work-with-i3 if you have an actually good keyboard
bindsym $mod+Mod2+KP_8 exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ +10%
bindsym $mod+Mod2+KP_2 exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ -10%

bindsym $mod+Left  focus left
bindsym $mod+Down  focus down
bindsym $mod+Up 	 focus up
bindsym $mod+Right focus right

bindsym $mod+Shift+Left  move left
bindsym $mod+Shift+Down  move down
bindsym $mod+Shift+Up 	 move up
bindsym $mod+Shift+Right move right

bindsym $mod+h split h
bindsym $mod+v split v
bindsym $mod+f fullscreen toggle

bindsym $mod+s 					 layout stacking
bindsym $mod+w 					 layout tabbed
bindsym $mod+e 					 layout toggle split
bindsym $mod+Shift+space floating toggle

# Focus between tiling / floating windows
bindsym $mod+space focus mode_toggle

################
## Workspaces ##
################

set $ws1 "1.  "
set $ws2 "2.  "
set $ws3 "3.  "
set $ws4 "4.  "
set $ws5 "5.  "
set $ws6 "6.  "
set $ws7 "7. 漣 "
set $ws8 "8.  "

bindsym $mod+1 workspace number $ws1
bindsym $mod+2 workspace number $ws2
bindsym $mod+3 workspace number $ws3
bindsym $mod+4 workspace number $ws4
bindsym $mod+5 workspace number $ws5
bindsym $mod+6 workspace number $ws6
bindsym $mod+7 workspace number $ws7
bindsym $mod+8 workspace number $ws8

bindsym $mod+Shift+1 move container to workspace number $ws1
bindsym $mod+Shift+2 move container to workspace number $ws2
bindsym $mod+Shift+3 move container to workspace number $ws3
bindsym $mod+Shift+4 move container to workspace number $ws4
bindsym $mod+Shift+5 move container to workspace number $ws5
bindsym $mod+Shift+6 move container to workspace number $ws6
bindsym $mod+Shift+7 move container to workspace number $ws7
bindsym $mod+Shift+8 move container to workspace number $ws8

assign [class="Alacritty"] $ws1

assign [class="lite-xl"] $ws2
assign [class="Code"] $ws2
assign [class="obsidian"] $ws2
assign [class="Evince"] $ws2

assign [class="firefoxdeveloperedition"] $ws3
assign [class="firefox"] $ws3

assign [class="microsoft teams - preview"] $ws4
assign [class="Microsoft Teams - Preview"] $ws4
assign [class="discord"] $ws4

assign [class="Gimp"] $ws5

assign [class="obs"] $ws6

bindsym $mod+x [urgent=latest] focus

########################
## Window Decorations ##
########################

# Window states   border	 		  background  text
client.focused    $active   	  $active   	  $bg-darker   $active
client.unfocused  $bg					  $bg  					$text			   $bg
client.urgent     $bg-urgent    $bg-urgent    $bg-darker   $bg-urgent

for_window [class=".*"] border pixel 2

workspace $ws1 gaps inner 15
gaps inner 5

for_window [class="scrcpy"] 		floating enable
for_window [class="zoom "] 			floating enable
for_window [class="Galculator"] floating enable
for_window [class="App"] 				floating enable

###########
## i3bar ##
###########

bar {
	position top
	status_command i3status
	tray_padding 4
	workspace_min_width 70
	separator_symbol "::"
	colors {
		# i3bar	colors		 border	 		   background  text
		background 				 $bg  
		focused_workspace  $active 	 	 	 $bg-darker  $active
		inactive_workspace $outline			 $bg-darker  $text
		urgent_workspace 	 $text-urgent  $bg-darker  $text-urgent
	}
}

#################
## Resize Mode ##
#################

mode "resize" {
  bindsym Left  resize shrink width  30 px
  bindsym Down  resize grow   height 30 px
  bindsym Up 		resize shrink height 30 px
  bindsym Right resize grow   width  30 px

  bindsym Return mode "default"
  bindsym Escape mode "default"
  bindsym $mod+r mode "default"
}
